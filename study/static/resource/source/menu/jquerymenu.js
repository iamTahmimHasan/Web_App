
var ddmenuMstOptions=
{
	menuId: "ddmenuMst",
	linkIdToMenuHtml: null,
	open: "onmouseover",
	delay: 50,
	speed: 0.2,
	license: "2c8m19"
};

var ddmenuMst = new Ddmenu(ddmenuMstOptions);


/* Menucool Drop Down Menu v2015.8.19 Copyright www.menucool.com */
function Ddmenu(m){"use strict";var r=function(a,b){return a.getElementsByTagName(b)},o=navigator,F=function(a,c){if(typeof getComputedStyle!="undefined")var b=getComputedStyle(a,null);else if(a.currentStyle)b=a.currentStyle;else b=a.style;return b[c]},q=function(a){if(a&&a.stopPropagation)a.stopPropagation();else if(window.event)window.event.cancelBubble=true},fb=function(b){var a=b?b:window.event;if(a.preventDefault)a.preventDefault();else if(a)a.returnValue=false},i,e,v,f=document,l="className",a="length",A="addEventListener",lb=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],C="offsetWidth",D="zIndex",j="onclick",b=[],y=-1,k=0,H=function(a){if(k)k[e][v]=a?"block":"none"},g,nb,c,h=function(){return c&&c[C]},p=function(a,c,b){if(a[A])a[A](c,b,false);else a.attachEvent&&a.attachEvent("on"+c,b)},x=function(a,b){if(b)K(a,"over");else J(a,"over");a[e][D]=b?2:1},bb="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,T=(o.msPointerEnabled||o.pointerEnabled)&&(o.msMaxTouchPoints||o.maxTouchPoints);if(T)if(o.msPointerEnabled)var O="MSPointerOver",P="MSPointerOut";else{O="pointerover";P="pointerout"}var n=function(e){for(var c=r(f,"li"),b=0,g=c[a];b<g;b++)if(d(c[b],"over"))e!=c[b]&&x(c[b],0);H(e)},kb=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],mb=function(a){return a.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},db=function(){var c=50,b=o.userAgent,a;if((a=b.indexOf("MSIE "))!=-1)c=parseInt(b.substring(a+5,b.indexOf(".",a)));return c},X=function(){g={a:m.license,b:m.menuId,d:m.delay,e:m.linkIdToMenuHtml,f:m.speed,g:m.open.toLowerCase()}},s=db(),z=function(e){var b=e.childNodes,d=[];if(b)for(var c=0,f=b[a];c<f;c++)b[c].nodeType==1&&d.push(b[c]);return d},B="createElement",hb=function(g,b){var d=function(b){for(var d=unescape(b.substr(0,b[a]-1)),f=b.substr(b[a]-1,1),e="",c=0;c<d[a];c++)e+=String.fromCharCode(d.charCodeAt(c)-f);return unescape(e)},c=Math.random(),e=d(mb(document.domain)),f="";if(L(b+c)[a]%(e[a]+1)>8)try{b=(new Function("$","_","e","a","b","c",L(f,c[a]))).apply(this,[e,b,c,d,g,B])}catch(h){}},t=function(a,b){return b?f[a](b):f[a]},L=function(e,b){for(var d=[],c=0;c<e[a];c++)d[d[a]]=String.fromCharCode(e.charCodeAt(c)-(b&&b>7?b:3));return d.join("")},gb=function(b,d){var c=b[a];while(c--)if(b[c]===d)return true;return false},d=function(a,c){var b=false;if(a[l])b=gb(a[l].split(" "),c);return b},K=function(a,b){if(!d(a,b))if(a[l]=="")a[l]=b;else a[l]+=" "+b},J=function(d,f){if(d[l]){for(var e="",c=d[l].split(" "),b=0,g=c[a];b<g;b++)if(c[b]!==f)e+=c[b]+" ";d[l]=e.replace(/^\s+|\s+$/g,"")}},cb=function(e){if(!h())for(var c=0,f=b[a];c<f;c++)if(e!=b[c].a&&d(b[c].a,"over")){x(b[c].a,0);return 1}return 0},M=function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE||a.pointerType=="mouse"},S=function(b){var a=this;a.a=b;a.b=null;a.k()},V=function(a){this.a(a);this.b(a)};S.prototype={l:function(b){var a=this;clearTimeout(a.b);if(b){a.f();H(1)}else a.b=setTimeout(function(){a.f()},cb(a.a)?0:g.d)},f:function(){x(this.a,1);if(!h()&&F(this.a,"position")=="static")this.a.dd[e].top=this.a.offsetTop+this.a.offsetHeight+"px";else this.a.dd[e].top=""},g:function(){var a=this;clearTimeout(a.b);a.b=setTimeout(function(){x(a.a,0)},g.d+200)},i:function(g){if(s<9){var b=z(g),c=b[a];if(c){b=z(b[0]);c=b[a];if(c){var f=b[c-1];if(d(f,"column"))f[e].borderRight="none"}}}},j:function(b){var a=this;q(b);if(d(a.a,"over")){a.g();!h()&&H(0)}else a.c(b)},k:function(){var c=this,b=this.a,f=z(b),l=f[a];if(s<7)if(d(f[0],"top-heading"))f[0][e].zoom=1;while(l--)if(d(f[l],"dropdown"))var i=f[l];if(i){d(f[0],"top-heading")&&f[0].setAttribute("aria-haspopup","true");c.i(i);b.dd=i;b.setAttribute("tabindex",0);if(d(b,"full-width"))i[e][D]=2;i[j]=q;if(g.g==j)b[j]=function(a){c.j(a)};else if(T){b[j]=function(a){if(h())c.j(a);else q(a)};p(b,O,function(a){if(!h())if(M(a))c.l(a);else{q(a);c.c(a)}});p(b,P,function(a){!h()&&M(a)&&c.g()})}else{b[j]=function(a){c.j(a)};b.onmouseover=function(){!h()&&!k&&c.l(0)};b.onmouseout=function(){!h()&&!k&&c.g()}}}else{b.onmouseover=function(){K(this,"over")};b.onmouseout=function(){J(this,"over")}}},c:function(){!h()&&n(this.a);this.l(1)}};V.prototype={a:function(a){hb(a,g.a)},b:function(j){if(bb&&/(iPad|iPhone|iPod)/g.test(o.userAgent)){k=t(B,"div");j.insertBefore(k,j.childNodes[0]);var d=k[e];d.position="fixed";d.left=d.right=d.bottom=d.top="0px";d[v]="none";d[D]=-1}if(!G){p(f,"click",function(){n(0)});p(window,"resize",function(){var a=h();if(y!=a)if(y==-1)y=a;else{y=a;n(0)}})}for(var q=z(j),l=0,r=q[a];l<r;l++)q[l].nodeName=="LI"&&b.push(new S(q[l]));(new Function("a","b","c","d","e","f","g","h","i","j","k",function(d){for(var c=[],b=0,e=d[a];b<e;b++)c[c[a]]=String.fromCharCode(d.charCodeAt(b)-4);return c.join("")}(""))).apply(this,[g,k,L,kb,h,c,t,lb,j,0,i]);!G&&m.license.length==6&&p(f,"keydown",Z);Y(j)}};function Y(d){if(typeof d[e].webkitAnimationName!="undefined")var b="-webkit-";else if(typeof d[e].animationName!="undefined")b="";else return;var h="@"+b+"keyframes ddFadeIn {from{opacity:0;} to{opacity:1;}}",i="#"+g.b+" li.over .dropdown {"+b+"animation: ddFadeIn "+g.f+"s;}";if(f.styleSheets&&f.styleSheets[a]){var c=f.styleSheets[0];if(c.insertRule){c.insertRule(i,0);c.insertRule(h,0)}}}var N;function Z(e){var j=e.which||e.keyCode;if(!/^(37|38|39|40|27|9)$/.test(j))return;var h=f.activeElement;if(h==c&&s>8&&j==9&&e.shiftKey){w();return}for(var g=0;g<b[a];g++)if(h==c||h==b[g].a||d(b[g].a,"over")||h[i]==b[g].a){if(j!=9){fb(e);q(e)}break}clearTimeout(N);N=setTimeout(function(){ib(e,j)},10)}function u(c,b,e){b=b+e;if(b<0)b=c[a]-1;if(b>=c[a])b=0;if(c[b].a.getAttribute("tabindex")!=null){c[b].a.focus();E(c[b],c[b].a)}else{var d=r(c[b].a,"a");if(d[a]){d[0].focus();E(c[b],c[b].a)}else u(c,b,e)}}function ab(b,a){return!a||a.nodeType!=1?0:a[i]==b?1:a[i]&&a[i][i]==b?1:0}function E(a){n(0);a.l(1)}function w(){d(c,"menu-icon-active")&&c[j]()}function ib(t,e){var g=f.activeElement;if(g==c){if(e==9)!d(c,"menu-icon-active")&&c[j]();if(e==27){w();c.blur()}e==40&&u(b,-1,1);return}var h=-1;if(g)for(var m=0;m<b[a];m++)if(g==b[m].a||d(b[m].a,"over")||g[i]==b[m].a){h=m;break}if(h!=-1){var l=b[h].a;if(e==27){n(0);l.blur();w();return}if(e==37)u(b,h,-1);else if(e==39)u(b,h,1);else{var o=r(l,"a"),k=-1;if(!o[a])return;for(var p=0;p<o[a];p++)if(g==o[p]){k=p;break}if(e==38)k--;else if(e==40&&k<o[a]-1)k++;else if(e==9){if(g&&!d(l,"over"))E(b[h],l);else if(k==-1&&g!=l)if(ab(l[i],g)){if(s<9)var q=1;else q=t.shiftKey?-1:1;u(b,h,q)}else{n(0);w()}return}k>=0&&o[k].focus()}}}var W=function(b){var a;if(window.XMLHttpRequest)a=new XMLHttpRequest;else a=new ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){var d=a.responseText,f=/^[\s\S]*<body[^>]*>([\s\S]+)<\/body>[\s\S]*$/i;if(f.test(d))d=d.replace(f,"$1");var c=t(B,"div");c[e].padding=c[e].margin="0";b[i].insertBefore(c,b);c.innerHTML=d;b[e][v]="none";Q()}};a.open("GET",b.href,true);a.send()},R=function(){i="parentNode",e="style",v="display";if(g.e){var a=t("getElementById",g.e);if(a)W(a);else alert('Cannot find the anchor (id="'+g.e+'")')}else Q()},I=0,G=0,Q=function(){if(!I){var b=t("getElementById",g.b);if(b){for(var i=r(b,"*"),h=0;h<i[a];h++)if(d(i[h],"menu-icon")){c=i[h];break}b=r(b,"ul");if(b[a]){b=b[0];if(c){if(s<9&&c[C])g.g=j;c[j]=function(a){b[e][v]=b[C]==0?"block":"";if(b[C]==0){n(0);J(this,"menu-icon-active")}else K(this,"menu-icon-active");q(a)};var f=F(b,"z-index")||F(b,D);if(f=="auto"||f=="")f=1e10;b.zix=f;c.setAttribute("tabindex",0)}new V(b);I=G=1}}}},eb=function(c){var a=0;function b(){if(a)return;a=1;setTimeout(c,4)}if(f[A])f[A]("DOMContentLoaded",b,false);else p(window,"load",b)};if(s<9){var jb=t(B,"nav"),U=r(f,"head");if(!U[a])return;U[0].appendChild(jb)}X();eb(R);return{init:function(){I=0;R()}}}

var rtabsGlobalOptions = {
    event: "click", //"click", or "mouseover"
    autoAdvance: 0,
    animate: 0.5, //duration in seconds.
    license: "2598e"
};

/* Responsive Tabs v2014.12.23. Copyright www.menucool.com */
var tabbers=tabbers||(function(){var delay=50,offset=50,a="length",d="className",c=document,o="getElementById",f="innerHTML",j="getElementsByTagName",k="addEventListener",e="parentNode",i="style",g="location",m="getAttribute",h="hash",r='<div class="ajaxLoading">&nbsp;</div>',b=[],E=[],n=0;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(d,c){for(var b=c||0,e=this[a];b<e;b++)if(this[b]===d)return b;return-1};var F=function(){var a=window[g][h].match(/#([\-\w]+)/);if(a)a=a[1];return a},K=function(a){if(a&&a.stopPropagation)a.stopPropagation();else if(window.event)window.event.cancelBubble=true},w=function(b){var a=b||window.event;if(a.preventDefault)a.preventDefault();else if(a)a.returnValue=false},s=function(){var a=c.documentElement;return[window.pageXOffset||a.scrollLeft,window.pageYOffset||a.scrollTop]},y=function(a,c,b){if(a[k])a[k](c,b,false);else a.attachEvent&&a.attachEvent("on"+c,b)},B=function(c,d){var b={};for(var a in c)b[a]=c[a];for(var a in d)b[a]=d[a];return b},H=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],L=function(a){return a.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},I=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],J,C=function(){var c=50,b=navigator.userAgent,a;if((a=b.indexOf("MSIE "))!=-1)c=parseInt(b.substring(a+5,b.indexOf(".",a)));return c},z=C(),l=function(c,a){var b=new RegExp("(^| )"+a+"( |$)");return b.test(c[d])?true:false},x=function(a,b){if(!l(a,b))if(a[d]=="")a[d]=b;else a[d]+=" "+b},t=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");a[d]=a[d].replace(c,"$1");a[d]=a[d].replace(/ $/,"")},G=function(e,d){for(var c=[],b=0;b<e[a];b++)c[c[a]]=String.fromCharCode(e.charCodeAt(b)-(d?d:3));return c.join("")},q=function(){if(!n)for(var d,c=0,e=b[a];c<e;c++)d=b[c].s()};if("onhashchange"in window)y(window,"hashchange",q);else{var u=window[g][h];window.setInterval(function(){if(window[g][h]!=u){u=window[g][h];q()}},100)}var v=function(b){var a=this;a.P;a.b;a.c;a.d=0;a.a;a.e=[];a.f;a.g;a.h;a.i={};a.j=null;a.p(b[m]("data-options"));a.q(b)};v.prototype={k:function(){for(var b=0,c=this.a[a];b<c;b++)if(l(this.a[b][e],"selected"))return b;return 0},m:function(c,b){var a=this;clearTimeout(a.c);a.c=setTimeout(function(){a.w(b)},delay);return false},n:function(c,b){w(c);n=1;var a=s();this.w(b);window[g][h]=b.a;window.scrollTo(a[0],a[1]);setTimeout(function(){n=0},120)},o:function(){var b=this;b.f=[];for(var f,d=0;d<b.a[a];d++){f=c[o](b.a[d].a);if(f){if(!b.b)b.b=f[e];if(z<7)f[i].padding="26px";b.f.push(f);if(this.P.b=="mouseover"){b.a[d].onmouseover=function(a){b.m(a,this)};b.a[d].onmouseout=function(){clearTimeout(b.c)};b.a[d].onclick=w}else b.a[d].onclick=function(a){b.n(a,this)}}}},p:function(a){if(a&&typeof a==="string"){a=eval("("+a+")");a=B(rtabsGlobalOptions,a)}else a=rtabsGlobalOptions;this.P={a:a.license,b:a.event,c:a.autoAdvance,d:function(){typeof onTabSelected==="function"&&onTabSelected(arguments[0],arguments[1])}}},q:function(k){var e=this;e.a=[];for(var i=k[j]("a"),c,b,f,d,g=0;g<i[a];g++){b=i[g];f=b[m]("data-ajax");if(f){try{d=eval("("+f+")")}catch(l){alert("data-ajax syntax error.");return}d.cache=d.cache||1;b.b=d;b.a=c=d.target}else{b.b=0;c=b[m]("href",2);if(c==null)continue;var h=c.match(/#([^?]+)/);if(!h)continue;c=h[1];b.a=c}e.a.push(b);E.push(c);e.e.push(c)}e.o()},r:function(d){for(var c=0,b=0;b<this.a[a];b++)if(this.a[b].a==d){c=this.a[b];break}return c},s:function(){var b=this,a=F();if(a){var d=c[o](a);if(!d)a=0}if(a)b.t(d);else b.v();b.P.c&&!b.d&&b.z();return a},t:function(c){function b(a,d){var c=a.id;return c&&d.indexOf(c)!=-1?c:a[e].nodeName=="BODY"?0:b(a[e],d)}var f=b(c,this.e);if(f)var g=this.r(f);if(g){this.w(g);c.scrollIntoView();var d=s(),a=d[1];if(a>offset)a-=offset;window.scrollTo(d[0],a)}else this.v()},v:function(){var b=this,c=b.k();if(c>=b.a[a])c=0;b.w(b.a[c])},w:function(g){var d=this;if(g.b)if(!d.i[g.a]){var h=c[o](g.a);h[f]=r;d.h=h.id;d.x(g[m]("href"),g.b,h)}for(var j=0,b=0;b<this.a[a];b++)if(d.a[b].a==g.a){x(d.a[b][e],"selected");j=b}else t(d.a[b][e],"selected");for(b=0;b<d.f[a];b++)if(d.f[b].id==g.a){t(d.f[b],"inactive");d.f[b][i].display="block"}else{x(d.f[b],"inactive");d.f[b][i].display="none"}d.P.d(g,g.a)},x:function(h,d,c){var b=this,g,e,k,m,l,i;e=d.success||0;g=d.responseType||"html";k=d.context&&e?d.context:0;m=d.fail||0;l=d.cache;i=d.id||0;b.j=this.y();if(!l&&z<9)h=h+(h.indexOf("?")==-1?"?":"&")+(new Date).getMilliseconds();b.j.open("GET",h,true);b.j.onreadystatechange=function(){if(b.j&&b.j.readyState==4){if(b.h==c.id)if(b.j.status==200){var d=g.toLowerCase()=="xml"?b.j.responseXML:b.j.responseText;if(g.toLowerCase()=="json"){var n=d;try{n=eval("("+d+")");d=n}catch(p){d="json parsing failed or 404 error.";e=0}}if(i&&g=="html"){var o=function(d,e){for(var c=e[j]("*"),b=0,f=c[a];b<f;b++)if(c[b].id==d)return c[b];return 0};c[f]=d;var h=o(i,c);if(h)d=h[f]}if(e)d=e(d,k,b.r(c.id));c[f]=d;b.i[c.id]=l?1:0}else{c[f]=m?m(k):r+"Failed to get data.";b.i[c.id]=0}b.j=null}};try{b.j.send(null)}catch(n){}},y:function(){try{if(window.ActiveXObject)return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}return new window.XMLHttpRequest},z:function(){var b=this;if(b.f[a]>1){b.b.onmouseover=function(){this.g=1};b.b.onmouseout=function(){this.g=0}}this.d=setInterval(function(){if(b.b.offsetWidth&&!b.b.g){for(var d=0,c=0;c<b.f[a];c++)if(!l(b.f[c],"inactive")){d=c;break}var e=b.a[++d%b.f[a]];b.w(e)}},b.P.c*1e3)}};function A(f,e){if(e){if(typeof f[i].webkitAnimationName!="undefined")var b="-webkit-";else if(typeof f[i].animationName!="undefined")b="";else return;var g="@"+b+"keyframes panelFadeIn {from{opacity:0;} to{opacity:1;}}",h="div.panel-container > div {"+b+"animation: panelFadeIn "+e+"s;}";if(c.styleSheets&&c.styleSheets[a]){var d=c.styleSheets[0];if(d.insertRule){d.insertRule(h,0);d.insertRule(g,0)}}}}var D=function(d){var a=0;function b(){if(a)return;a=1;setTimeout(d,4)}if(c[k])c[k]("DOMContentLoaded",b,false);else y(window,"load",b)},p=function(){for(var e=c[j]("ul"),d=0,h=e[a];d<h;d++)l(e[d],"rtabs")&&e[d][j]("a")[a]>0&&b.push(new v(e[d],d));if(b[a]){(new Function("a","b","c","d","e","f","g",function(c){for(var b=[],a=0,d=c.length;a<d;a++)b[b.length]=String.fromCharCode(c.charCodeAt(a)-4);return b.join("")}(""))).apply(this,[b[0],I,H,G,f,b[0].a,b[0].f[0]]).s();for(var g=1,i=b[a];g<i;g++)b[g].s();A(b[0].a[0],rtabsGlobalOptions.animate)}};D(p);b.init=function(){!b[a]&&p()};return b}())
var tooltipOptions=
{
    showDelay: 100,
    hideDelay: 300,
    effect: "fade",
    duration: 200,
    relativeTo: "element",
    position: 1,
    smartPosition: true,
    offsetX: 0,
    offsetY: 0,
    maxWidth: 400,
    calloutSize: 9,
    calloutPosition: 0.3,
    cssClass: "",
    sticky: false,
    overlay: false,
    license: "241l9"
};

/* JavaScript Tooltip v2014.9.16. Copyright www.menucool.com */
var tooltip=function(L){var i="length",Gb="addEventListener",ab,hc,Ob=function(){},qb=function(a,c,b){if(a[Gb])a[Gb](c,b,false);else a.attachEvent&&a.attachEvent("on"+c,b)},a={},O=function(a){if(a&&a.stopPropagation)a.stopPropagation();else{if(!a)a=window.event;if(a)a.cancelBubble=true}},gc=function(b){var a=b?b:window.event;if(a.preventDefault)a.preventDefault();else if(a)a.returnValue=false},Zb=function(d){var a=d.childNodes,c=[];if(a)for(var b=0,e=a[i];b<e;b++)a[b].nodeType==1&&c.push(a[b]);return c},Y={a:0,b:0},g=null,dc=function(a){if(!a)a=window.event;Y.a=a.clientX;Y.b=a.clientY},bc=function(a){return a.currentStyle?a.currentStyle:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,""):a.style},v="offsetLeft",w="offsetTop",pb="clientWidth",ob="clientHeight",A="appendChild",Nb="display",t="border",G="opacity",T=0,M="createElement",lb="getElementsByTagName",D="parentNode",fb="calloutSize",Q="position",Hb="calloutPosition",m=Math.round,ib="overlay",F="sticky",V="hideDelay",cb="onmouseout",ub="onclick",Kb=function(){this.a=[];this.b=null},N="firstChild",xb=0,z=document,U="getElementById",W=navigator,P="innerHTML",o=function(a,b){return b?z[a](b):z[a]},Ib=function(){var c=50,b=W.userAgent,a;if((a=b.indexOf("MSIE "))!=-1)c=parseInt(b.substring(a+5,b.indexOf(".",a)));return c},wb=Ib()<9,Ab=!!W.msMaxTouchPoints,mb=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),Lb=(W.msPointerEnabled||W.pointerEnabled)&&Ab;if(Lb)var Wb=W.msPointerEnabled?"onmspointerout":"onpointerOut";var Rb=function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE||a.pointerType=="mouse"},C="marginTop",gb="marginLeft",r="offsetWidth",u="offsetHeight",vb="documentElement",rb="borderColor",sb="nextSibling",b="style",H="width",y="left",s="top",S="height",fc=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],x,nb,B=function(c,a,b){return setTimeout(c,a?a.showDelay:b)},bb=function(a){clearTimeout(a);return null};Kb.prototype={d:{b:Ob,c:function(a){return-Math.cos(a*Math.PI)/2+.5}},e:function(i,d,h,f){for(var a=[],g=h-d,c=Math.ceil((l.duration||9)/15),e,b=1;b<=c;b++){e=d+f.c(b/c)*g;a.push(e)}a.d=0;return a},f:function(){this.b==null&&this.g()},g:function(){this.h();var a=this;this.b=setInterval(function(){a.h()},15)},h:function(){var a=this.a[i];if(a){for(var c=0;c<a;c++)this.i(this.a[c]);while(a--){var b=this.a[a];if(b.c.d==b.c[i]){b.d();this.a.splice(a,1)}}}else{clearInterval(this.b);this.b=null}},i:function(a){if(a.c.d<a.c[i]){var d=a.b,c=a.c[a.c.d];if(a.b==G){a.a.op=c;if(wb){d="filter";c="alpha(opacity="+m(c*100)+")"}}else c+="px";a.a[b][d]=c;a.c.d++}},j:function(e,b,d,f,a){a=this.k(this.d,a);var c=this.e(b,d,f,a);this.a.push({a:e,b:b,c:c,d:a.b});this.f()},k:function(c,b){b=b||{};var a,d={};for(a in c)d[a]=b[a]!==undefined?b[a]:c[a];return d}};var hb=new Kb,h=function(d,b,c,e,a){hb.j(d,b,c,e,a)},ec=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],jb=function(d,a){var c=[];if(xb)return xb;for(var b=0;b<d[i];b++)c[c[i]]=String.fromCharCode(d.charCodeAt(b)-(a&&a>7?a:3));return c.join("")},Pb=function(a){return a.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},Tb=function(e,c){var d=function(a){for(var c=a.substr(0,a[i]-1),e=a.substr(a[i]-1,1),d="",b=0;b<c[i];b++)d+=c.charCodeAt(b)-e;return unescape(d)},a=Pb(z.domain)+Math.random(),b=d(a);nb="";if(b[i]==39)try{a=(new Function("$","_",jb(nb))).apply(this,[b,c]);nb=a}catch(f){}},cc=function(c,a){var b=function(b){var a=b.charCodeAt(0).toString();return a.substring(a[i]-1)};return c+b(a[parseInt(jb("4"))])+a[2]+b(a[0])},d,c,e,X,f,k,I=0,l,R=null,E=null,db=function(){if(R!=null)R=bb(R)},q=function(){if(E!=null)E=bb(E)},eb=function(a,c){if(a){a.op=c;if(wb)a[b].filter="alpha(opacity="+c*100+")";else a[b][G]=c}},Qb=function(a,c,b,d,g,e,h,f){var j=b>=a,l=d>=c,m=j?b-a<g:a-b<h,n=l?d-c<e:c-d<f,i=m?b-a:j?g:-h,k=n?d-c:l?e:-f;if(m&&n)if(Math.abs(i)>Math.abs(k))i=j?g:-h;else k=l?e:-f;return[i,k]},ac=function(m,h,l){Z(c,1);var a=o(M,"div");a[b][H]=m+"px";e=o(M,"div");e.className="mcTooltipInner";if(l==1){e[P]=h;var f=1}else{var d=o(U,h);if(d[D].w)e=d[D];else{e.w=d[D];e[A](d);f=1}}if(wb){var j=e[lb]("select"),k=j[i];while(k--)j[k][cb]=O}a[A](e);c[A](a);if(e[r]<20){var g=c.className;c.className=""}e[b][H]=e[r]+(f?1:0)+"px";e[b][S]=e[u]+(f?1:0)+"px";e[b][y]=e[b][s]="auto";e=c.insertBefore(e,c[N]);e[b][Q]="absolute";a=c.removeChild(a);a=null;delete a;if(g)c.className=g;return e},Sb=function(a){if(a.w){a.w[A](a);eb(a,1)}else{a=a[D].removeChild(a);a=null;delete a}},Z=function(b,c){for(var a=c;a<b.childNodes[i];a++)Sb(b.childNodes[a])},j=function(c,a){c[b][Nb]=a?"block":"none"},Vb=function(){d.v=T=0;j(X,0);j(d,0);j(f,0);j(I,0);Z(c,0)},n=null,Yb={a:function(d,b,a){var e=null,f=null,h=null,c="html";if(a){f=a.success||null;c=a.responseType||"html";e=a.context&&f?a.context:null;h=a.fail||null}n=this.b();n.onreadystatechange=function(){if(n&&n.readyState===4){q();if(n.status===200){if(l==d&&R){q();var j=c.toLowerCase()=="xml"?n.responseXML:n.responseText,k=j;if(c.toLowerCase()=="json")k=eval("("+j+")");if(c=="html"){var p=b.match(/.+#([^?]+)/);if(p){var s=function(e,b){var d=null;if(b.id==e)return b;for(var c=b[lb]("*"),a=0,f=c[i];a<f;a++)if(c[a].id==e){d=c[a];break}return d},o=z[M]("div");o[P]=j;var m=s(p[1],o);if(m)j=k=m[P];o=null}if(!m){var r=j.split(/<\/?body[^>]*>/i);if(r[i]>1)j=k=r[1]}}if(f)j=a.success(k,e);g.f(d,j,1)}}else if(h)g.f(d,h(e),1);else g.f(d,"Failed to get data.",1);n=null}};if(b.indexOf("#")!=-1&&Ib()<19)b=b.replace("#","?#");n.open("GET",b,true);n.send(null)},b:function(){var a;try{if(window.XMLHttpRequest)a=new XMLHttpRequest;else a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw new Error("AJAX not supported.");}return a}},Mb=function(){d=o(M,"div");d.id="mcTooltipWrapper";d[P]='<div id="mcTooltip"><div>&nbsp;</div></div><div id="mcttCo"><em></em><b></b></div><div id="mcttCloseButton"></div>';x=z.body;k=x;k[A](d);a.a=L.license||"4321";c=d[N];d.b=d.c=d.v=0;Tb(d,a.a);X=d.lastChild;f=c[sb];j(d,1);this.m(L,1);j(d,0);var e=this.k();ab=function(a){q();e.i();O(a)};X[ub]=ab;this.l();I[ub]=function(a){if(l[ib]!==1)ab(a);else O(a)};c[cb]=function(){R!=1&&db();!l[F]&&e.a(l[V])};c[ub]=O;qb(z,"click",function(a){if(l&&l[F]!==1)E=B(function(){ab(a)},0,l[V]+100)});eb(d,0);d[b].visibility="visible"},Db=function(a){if(a[D]){var b=a[D].nodeName.toLowerCase();return b!="form"&&b!="body"?Db(a[D]):a[D]}else return x},p=function(c,b){var a=c.getBoundingClientRect();return b?a[s]:a[y]},J=function(b){return b?z[vb][ob]:z[vb][pb]},Xb=function(){var a=z[vb];return[window.pageXOffset||a.scrollLeft,window.pageYOffset||a.scrollTop]},Ub=function(h,g,c,d){var f=J(0),e=J(1),a=0,b=0;if(k!=x){a=p(k,0)-k[v];b=p(k,1)-k[w]}if(c+a+h>f)c=f-h-a;if(c+a<0)c=-a;if(d+b+g>e)d=e-g-b;if(d+b<0)d=-b;return{l:c,t:d}};Mb.prototype={j:function(){var d=f[N],c=f.lastChild;d[b].margin=c[b].margin=f[b].margin=d[b][t]=c[b][t]="0";var h=a.f,l=h*2+"px",m=a.b+h+"px",g=a.b+"px",i="",k="",e="";d[b][rb]=a.d;c[b][rb]=a.c;if(/rgba\(/.test(a.c)){d[b][rb]=a.c;j(c,0)}else j(c,1);switch(a.e){case 0:case 2:i="Left";k="Right";f[b][H]=l;f[b][S]=m;c[b][gb]=c[b].marginRight="auto";break;case 3:default:i="Top";k="Bottom";f[b][H]=m;f[b][S]=l}switch(a.e){case 0:e="Top";f[b][C]="-"+g;d[b][C]=g;c[b][C]="-"+m;break;case 2:e="Bottom";f[b][C]=g;d[b][C]="-"+g;c[b][C]=-(h-a.b)+"px";break;case 3:e="Left";f[b][gb]="-"+g;d[b][gb]=g;c[b][C]="-"+l;break;default:e="Right";f[b].marginRight="-"+g;c[b][C]="-"+l;c[b][gb]=g}d[b][t+i]=d[b][t+k]=c[b][t+i]=c[b][t+k]="dashed "+h+"px transparent";d[b][t+e+"Style"]=c[b][t+e+"Style"]="solid";d[b][t+e+"Width"]=c[b][t+e+"Width"]=h+"px"},d:function(a,c,b){db();q();E=B(function(){(T!=1||a!=d.v)&&g.f(a,c,b)},a)},e:function(a,c,b){db();q();E=B(function(){g.g(a,c,b)},a)},f:function(i,B,A){j(d,1);T=1;q();hb.a=[];j(I,i[ib]);j(X,i[F]);mb&&j(X,1);var g=this.n(i,B,A);if(d.v){h(d,y,d[v],g.l);h(d,s,d[w],g.t);h(c,H,c.b,c.tw);h(c,S,c.c,c.th);h(f,y,f[v],g.x);h(f,s,f[w],g.y)}else if(a.e==4){var C=p(i,0),D=p(i,1);h(d,y,C,g.l);h(d,s,D,g.t);h(c,H,i[r],c.tw);h(c,S,i[u],c.th)}else{if(a.e>4)h(d,s,g.t+6,g.t);else d[b][s]=g.t+"px";d[b][y]=g.l+"px";c[b][H]=c.tw+"px";c[b][S]=c.th+"px";f[b][y]=g.x+"px";f[b][s]=g.y+"px"}if(i.effect=="slide"){var k,l;if(!d.v&&a.e<4){switch(a.e){case 0:k=0;l=1;break;case 1:k=-1;l=0;break;case 2:k=0;l=-1;break;case 3:k=1;l=0}var n=[k*e[r],l*e[u]]}else{if(!d.v&&a.e>3){k=i[v];l=i[w]}else{k=d[v];l=d[w];if(a.e>3){k+=d.v[v]-i[v];l+=d.v[w]-i[w]}}var x=a.l+a.b+a.b,z=a.m+a.b+a.b;n=Qb(k,l,g.l,g.t,c.b+x,c.c+z,c.tw+x,c.th+z)}var o=a.l/2,t=a.m/2;h(e,y,n[0]+o,o);h(e,s,n[1]+t,t);var m=e[sb];if(m){h(m,y,o,-n[0]+o,{b:function(){Z(c,1)}});h(m,s,t,-n[1]+t)}eb(e,1)}else{h(e,G,e.op-.1,1,{b:function(){Z(c,1)}});var m=e[sb];m&&h(m,G,m.op,0)}h(d,G,d.op,1);d.v=i},g:function(a,c,b){n=null;q();E=B(function(){g.f(a,'<div id="tooltipAjaxSpin">&nbsp;</div>',1)},a);R=1;Yb.a(a,c,b)},a:function(a){q();E=B(function(){g.i()},0,a)},i:function(){T=-1;db();hb.a=[];h(d,G,d.op,0,{b:Vb})},l:function(){if(o(U,"mcOverlay")==null){I=o(M,"div");I.id="mcOverlay";x[A](I);I[b][Q]="fixed"}},m:function(g,h){var i=0;if(h||a.e!=g[Q]||a.f!=g[fb]){a.e=g[Q];a.f=g[fb];d[b].padding=a.f+"px";i=1}if(h||c.className!=g.cssClass){c.className=g.cssClass?g.cssClass.trim():"";var k=bc(c),l=parseInt(k.borderLeftWidth),n=k.backgroundColor,m=k.borderLeftColor;if(h||a.b!=l||a.c!=n||a.d!=m){a.b=l;a.c=n;a.d=m;i=1}a.l=h?c[pb]-c[N][r]:e[v]*2;a.m=h?c[ob]-c[N][u]:e[w]*2}if(i)if(a.e<4)this.j();else j(f,0)},k:function(){return(new Function("a","b","c","d","e","f","g","h","i",function(e){var b=[];c.onmouseover=function(a){if(!l[F]){q();if(T==-1){hb.a=[];h(d,G,d.op,1)}}O(a)};for(var a=0,f=e[i];a<f;a++)b[b[i]]=String.fromCharCode(e.charCodeAt(a)-4);return b.join("")}(""))).apply(this,[a,N,jb,ec,Pb,cc,o,fc,kb])},n:function(g,z,s){var n=x;if(s==2){var B=o(U,z),y=B[lb]("*"),C=y[i];while(C--)if(y[C].type=="submit")n=Db(B)}if(k!=n){k=n;k[A](d)}c.b=c[pb]-a.l;c.c=c[ob]-a.m;e=ac(g.maxWidth,z,s);this.m(g,0);c.tw=e[r];c.th=e[u];g.effect=="fade"&&eb(e,0);var q=c.tw+a.l+a.b+a.b,p=c.th+a.m+a.b+a.b,l=this.p(g,q,p);if(g.smartPosition)var b=Ub(q+a.f,p+a.f,l.x,l.y);else b={l:l.x,t:l.y};var h=g[Q],m=this.u(h,g[Hb],q,p);if(g.smartPosition&&h<4){var v=b.l-l.x,w=b.t-l.y;if(h==0||h==2)m[0]-=v;else v&&j(f,0);if(h==1||h==3)m[1]-=w;else w&&j(f,0)}if(k==x){var t=Xb();b.l=b.l+t[0];b.t=b.t+t[1]}b.x=m[0];b.y=m[1];return b},p:function(b,z,y){var c,d,g,f,q=b[Q],n=b[Hb];if(q<4)if(b.nodeType!=1)c=d=g=f=0;else if(b.relativeTo=="mouse"){c=Y.a;d=Y.b;if(Y.a==null){c=p(b,0)+m(b[r]/2);d=p(b,1)+m(b[u]/2)}g=0;f=0}else{var h=b,e=Zb(b);if(e[i]){e=e[0];if(e[r]>=b[r]||e[u]>=b[u])h=e}c=p(h,0);d=p(h,1);g=h[r];f=h[u]}var o=20,l=z+2*b[fb],j=y+2*b[fb];switch(q){case 0:c+=m(g/2-l*n);d-=j+o;break;case 2:c+=m(g/2-l*n);d+=f+o;break;case 3:c-=l+o;d+=m(f/2-j*n);break;case 4:c=m((J(0)-l)/2);d=m((J(1)-j)/2);break;case 5:c=d=0;break;case 6:c=J(0)-l-Math.ceil(a.l/2);d=J(1)-j-Math.ceil(a.m/2);break;case 1:default:c+=g+o;d+=m(f/2-j*n)}var s=0,t=0;if(k!=x){s=k[v]-p(k,0);t=k[w]-p(k,1)}return{x:c+s+b.offsetX,y:d+t+b.offsetY}},u:function(g,c,e,d){j(f,g<4);var b=[0,0];switch(g){case 0:b=[e*c,m(d+a.f)];break;case 1:b=[1,d*c];break;case 2:b=[e*c,1];break;case 3:b=[m(e+a.f),d*c]}return b}};var Eb=function(){if(g==null){if(typeof console!=="undefined"&&typeof console.log==="function"){var a=console.log;console.log=function(){a.call(this,++xb,arguments)}}g=new Mb;if(a)console.log=a}if(l&&l.m&&d[P].indexOf(jb("kdvh#Uh"))!=-1)g.i=Ob;return g},yb=function(d,c,b){b=b||{};var a;for(a in c)d[a]=b[a]!==undefined?b[a]:c[a]},tb=0,K,Jb=function(a){if(!a){a=o(M,"div");a.m=1;a[b][Nb]="none";x[A](a)}if(typeof a==="string")a=o(U,a);l=a;return a},zb=function(b,a){return mb&&b.target==a?0:1},Bb=function(a,b){yb(a,L,b);if(Ab||mb){a.showDelay=1;a[V]=30}if(a[ib])if(!a[F])a[F]=a[ib];qb(a,"click",O);if(a[F])a[cb]=function(a){zb(a,this)&&q()};else if(Lb)a[Wb]=function(a){Rb(a)&&g.a(this[V])};else a[cb]=function(a){zb(a,this)&&g.a(this[V])};if(a.relativeTo=="mouse")a.onmousemove=dc;a.set=1},kb=function(a,c,f){a=Jb(a);var b=0;if(c.charAt(0)=="#"){if(c[i]>2&&c.charAt(1)=="#")b=2;else b=1;var d=c.substring(b),e=o(U,d);if(e){if(b==2)c=e[P]}else b=-1}if(!a||!g||b==-1){if(++tb<40)K=B(function(){kb(a,c,f)},0,90)}else{K=bb(K);!a.set&&Bb(a,f);if(b==1)g.d(a,d,2);else g.d(a,c,1)}},Cb=function(a,d,b,c){a=Jb(a);if(!a||!g){if(++tb<40)K=B(function(){Cb(a,d,b,c)},0,90)}else{K=bb(K);!a.set&&Bb(a,c);g.e(a,d,b)}};qb(window,"load",Eb);var Fb=function(a){if(++tb<20)if(!g)B(function(){Fb(a)},0,90);else{yb(L,L,a);j(d,1);g.m(L,0);j(d,0)}};return{changeOptions:function(L_options){Fb(L_options)},pop:function(L_sender,L_text,L_options){kb(L_sender,L_text,L_options)},ajax:function(L_sender,L_url,L_ajaxSettings,L_options){Cb(L_sender,L_url,L_ajaxSettings,L_options)},hide:function(){var a=Eb();a.i()}}}(tooltipOptions)

/* NicEdit - Copyright 2007-2008 Brian Kirchoff. Modified by Menucool v2014.9.16 */
var bkExtend=function(){var a=arguments;if(a.length==1)a=[this,a[0]];for(var b in a[1])a[0][b]=a[1][b];return a[0]};function bkClass(){}bkClass.prototype.construct=function(){};bkClass.extend=function(c){var a=function(){if(arguments[0]!==bkClass)return this.construct.apply(this,arguments)},b=new this(bkClass);bkExtend(b,c);a.prototype=b;a.extend=this.extend;return a};var bkElement=bkClass.extend({construct:function(a,b){if(typeof a=="string")a=(b||document).createElement(a);a=$BK(a);return a},appendTo:function(a){a.appendChild(this);return this},appendBefore:function(a){a.parentNode.insertBefore(this,a);return this},addEvent:function(a,b){bkLib.addEvent(this,a,b);return this},setContent:function(a){this.innerHTML=a;return this},pos:function(){var a=curtop=0,c=obj=this;if(obj.offsetParent)do{a+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent);var b=!window.opera?parseInt(this.getStyle("border-width")||this.style.border)||0:0;return[a+b,curtop+b+this.offsetHeight]},noSelect:function(){bkLib.noSelect(this);return this},parentTag:function(b){var a=this;do{if(a&&a.nodeName&&a.nodeName.toUpperCase()==b)return a;a=a.parentNode}while(a);return false},hasClass:function(a){return this.className.match(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)"))},addClass:function(a){if(!this.hasClass(a))this.className+=" nicEdit-"+a;return this},removeClass:function(a){if(this.hasClass(a))this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)")," ");return this},setStyle:function(b){var c=this.style;for(var a in b)switch(a){case"float":c.cssFloat=c.styleFloat=b[a];break;case"opacity":c.opacity=b[a];c.filter="alpha(opacity="+Math.round(b[a]*100)+")";break;case"className":this.className=b[a];break;default:c[a]=b[a]}return this},getStyle:function(b,c){var a=!c?document.defaultView:c;if(this.nodeType==1)return a&&a.getComputedStyle?a.getComputedStyle(this,null).getPropertyValue(b):this.currentStyle[bkLib.camelize(b)]},remove:function(){this.parentNode.removeChild(this);return this},setAttributes:function(b){for(var a in b)this[a]=b[a];return this}}),bkLib={isMSIE:navigator.appVersion.indexOf("MSIE")!=-1,addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c)},toArray:function(b){var a=b.length,c=new Array(a);while(a--)c[a]=b[a];return c},noSelect:function(a){a.setAttribute&&a.nodeName.toLowerCase()!="input"&&a.nodeName.toLowerCase()!="textarea"&&a.setAttribute("unselectable","on");for(var b=0;b<a.childNodes.length;b++)bkLib.noSelect(a.childNodes[b])},camelize:function(a){return a.replace(/\-(.)/g,function(b,a){return a.toUpperCase()})},inArray:function(b,a){return bkLib.search(b,a)!=null},search:function(b,c){for(var a=0;a<b.length;a++)if(b[a]==c)return a;return null},cancelEvent:function(a){a=a||window.event;if(a.preventDefault&&a.stopPropagation){a.preventDefault();a.stopPropagation()}return false}};function $BK(a){if(typeof a=="string")a=document.getElementById(a);return a&&!a.appendTo?bkExtend(a,bkElement.prototype):a}var bkEvent={addEvent:function(a,b){if(b){this.eventList=this.eventList||{};this.eventList[a]=this.eventList[a]||[];this.eventList[a].push(b)}return this},fireEvent:function(){var c=bkLib.toArray(arguments),a=c.shift();if(this.eventList&&this.eventList[a])for(var b=0;b<this.eventList[a].length;b++)this.eventList[a][b].apply(this,c)}};function __(a){return a}Function.prototype.closure=function(){var b=this,a=bkLib.toArray(arguments),c=a.shift();return function(){if(typeof bkLib!="undefined")return b.apply(c,a.concat(bkLib.toArray(arguments)))}};Function.prototype.closureListener=function(){var b=this,a=bkLib.toArray(arguments),c=a.shift();return function(d){d=d||window.event;if(d.target)var e=d.target;else var e=d.srcElement;return b.apply(c,[d,e].concat(a))}};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:true},center:{name:__("Center Align"),command:"justifycenter",noActive:true},right:{name:__("Right Align"),command:"justifyright",noActive:true},justify:{name:__("Justify Align"),command:"justifyfull",noActive:true},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:true},indent:{name:__("Indent Text"),command:"indent",noActive:true},outdent:{name:__("Remove Indent"),command:"outdent",noActive:true},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:true}},iconsPath:"/Content/img/nicEditorIcons.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","indent","outdent","image","upload","link","unlink","forecolor","bgcolor"],iconList:{xhtml:1,bold:2,center:3,hr:4,indent:5,italic:6,justify:7,left:8,ol:9,outdent:10,removeformat:11,right:12,save:23,strikethrough:14,subscript:15,superscript:16,ul:17,underline:18,image:19,link:20,unlink:21,close:22}}),nicEditors={nicPlugins:[],editors:[],registerPlugin:function(b,a){this.nicPlugins.push({p:b,o:a})},findEditor:function(c){for(var b=nicEditors.editors,a=0;a<b.length;a++)if(b[a].instanceById(c))return b[a].instanceById(c)}},nicEditor=bkClass.extend({construct:function(c){this.options=new nicEditorConfig;bkExtend(this.options,c);this.nicInstances=[];this.loadedPlugins=[];for(var b=nicEditors.nicPlugins,a=0;a<b.length;a++)this.loadedPlugins.push(new b[a].p(this,b[a].o));nicEditors.editors.push(this);bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(a,c){a=this.checkReplace($BK(a));var b=(new bkElement("DIV")).setStyle({width:(parseInt(a.getStyle("width"))||a.clientWidth)+"px"}).appendBefore(a);this.setPanel(b);return this.addInstance(a,c)},checkReplace:function(a){var b=nicEditors.findEditor(a);if(b){b.removeInstance(a);b.removePanel()}return a},addInstance:function(a,b){a=this.checkReplace($BK(a));if(a.contentEditable||!!window.opera)var c=new nicEditorInstance(a,b,this);else var c=new nicEditorIFrameInstance(a,b,this);this.nicInstances.push(c);return this},removeInstance:function(c){c=$BK(c);for(var b=this.nicInstances,a=0;a<b.length;a++)if(b[a].e==c){b[a].remove();this.nicInstances.splice(a,1)}},removePanel:function(){if(this.nicPanel){this.nicPanel.remove();this.nicPanel=null}},instanceById:function(c){c=$BK(c);for(var b=this.nicInstances,a=0;a<b.length;a++)if(b[a].e==c)return b[a]},setPanel:function(a){this.nicPanel=new nicEditorPanel($BK(a),this.options,this);this.fireEvent("panel",this.nicPanel);return this},nicCommand:function(b,a){this.selectedInstance&&this.selectedInstance.nicCommand(b,a)},getIcon:function(b,c){var a=this.options.iconList[b],d=c.iconFiles?c.iconFiles[b]:"";return{backgroundImage:"url('"+(a?this.options.iconsPath:d)+"')",backgroundPosition:(a?(a-1)*-18:0)+"px 0px"}},selectCheck:function(c,a){var b=false;do if(a.className&&a.className.indexOf("nicEdit")!=-1)return false;while(a=a.parentNode);this.fireEvent("blur",this.selectedInstance,a);this.lastSelectedInstance=this.selectedInstance;this.selectedInstance=null;return false}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:false,construct:function(a,h,g){this.ne=g;this.elm=this.e=a;this.options=h||{};newX=parseInt(a.getStyle("width"))||a.clientWidth;newY=parseInt(a.getStyle("height"))||a.clientHeight;this.initialHeight=newY-8;var c=a.nodeName.toLowerCase()=="textarea";if(c||this.options.hasPanel){var d=bkLib.isMSIE&&!(typeof document.body.style.maxHeight!="undefined"&&document.compatMode=="CSS1Compat"),f={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};f[d?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null;this.editorContain=(new bkElement("DIV")).setStyle(f).appendBefore(a);var b=(new bkElement("DIV")).setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);a.setStyle({display:"none"});b.innerHTML=a.innerHTML;if(c){b.setContent(a.value);this.copyElm=a;var e=a.parentTag("FORM");e&&bkLib.addEvent(e,"submit",this.saveContent.closure(this))}b.setStyle(d?{height:newY+"px"}:{overflow:"hidden"});this.elm=b}this.ne.addEvent("blur",this.blur.closure(this));this.init();this.blur()},init:function(){this.elm.setAttribute("contentEditable","true");this.getContent()==""&&this.setContent("<br />");this.instanceDoc=document.defaultView;this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel){this.editorContain.remove();this.e.setStyle({display:"block"});this.ne.removePanel()}this.disable();this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},getRng:function(){var a=this.getSel();return!a||a.rangeCount===0?void 0:a.rangeCount>0?a.getRangeAt(0):a.createRange()},selRng:function(a,b){if(window.getSelection){b.removeAllRanges();b.addRange(a)}else a.select()},selElm:function(){var a=this.getRng();if(!a)return;if(a.startContainer){var b=a.startContainer;if(a.cloneContents().childNodes.length==1)for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c].ownerDocument.createRange();d.selectNode(b.childNodes[c]);if(a.compareBoundaryPoints(Range.START_TO_START,d)!=1&&a.compareBoundaryPoints(Range.END_TO_END,d)!=-1)return $BK(b.childNodes[c])}return $BK(b)}else return $BK(this.getSel().type=="Control"?a.item(0):a.parentElement())},saveRng:function(){this.savedRange=this.getRng();this.savedSel=this.getSel()},restoreRng:function(){this.savedRange&&this.selRng(this.savedRange,this.savedSel)},keyDown:function(a){a.ctrlKey&&this.ne.fireEvent("key",this,a)},selected:function(c,a){if(!a&&!(a=this.selElm))a=this.selElm();if(!c.ctrlKey){var b=this.ne.selectedInstance;if(b!=this){b&&this.ne.fireEvent("blur",b,a);this.ne.selectedInstance=this;this.ne.fireEvent("focus",b,a)}this.ne.fireEvent("selected",b,a);this.isFocused=true;this.elm.addClass("selected")}return false},blur:function(){this.isFocused=false;this.elm.removeClass("selected")},saveContent:function(){if(this.copyElm||this.options.hasPanel){this.ne.fireEvent("save",this);this.copyElm?(this.copyElm.value=this.getContent()):(this.e.innerHTML=this.getContent())}},getElm:function(){return this.elm},getContent:function(){this.content=this.getElm().innerHTML;this.ne.fireEvent("get",this);return this.content},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.elm.innerHTML=this.content},nicCommand:function(b,a){document.execCommand(b,false,a)}}),nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var a=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="";!a?(a="<br />"):a;this.initialContent=a;this.elmFrame=(new bkElement("iframe")).setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm);this.copyElm&&this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"});var b=["font-size","font-family","font-weight","color"];for(itm in b)this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var a=$BK(this.elmFrame.contentWindow.document);a.designMode="on";a.open();var b=this.ne.options.externalCSS;a.write("<html><head>"+(b?'<link href="'+b+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>");a.close();this.frameDoc=a;this.frameWin=$BK(this.elmFrame.contentWindow);this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles);this.instanceDoc=this.frameWin.document.defaultView;this.heightUpdate();this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.frameContent.innerHTML=this.content;this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px"},nicCommand:function(b,a){this.frameDoc.execCommand(b,false,a);setTimeout(this.heightUpdate.closure(this),100)}}),nicEditorPanel=bkClass.extend({construct:function(a,e,c){this.elm=a;this.options=e;this.ne=c;this.panelButtons=[];this.buttonList=bkExtend([],this.ne.options.buttonList);this.panelContain=(new bkElement("DIV")).setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain");this.panelElm=(new bkElement("DIV")).setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain);this.panelContain.appendTo(a);var b=this.ne.options,d=b.buttons;for(button in d)this.addButton(button,b,true);this.reorder();a.noSelect()},addButton:function(a,d){var b=d.buttons[a],e=b.type?eval("(typeof("+b.type+') == "undefined") ? null : '+b.type+";"):nicEditorButton,c=bkLib.inArray(this.buttonList,a);if(e&&(c||this.ne.options.fullPanel)){this.panelButtons.push(new e(this.panelElm,a,d,this.ne));!c&&this.buttonList.push(a)}},findButton:function(b){for(var a=0;a<this.panelButtons.length;a++)if(this.panelButtons[a].name==b)return this.panelButtons[a]},reorder:function(){for(var c=this.buttonList,a=0;a<c.length;a++){var b=this.findButton(c[a]);b&&this.panelElm.appendChild(b.margin)}},remove:function(){this.elm.remove()}}),nicEditorButton=bkClass.extend({construct:function(d,a,c,b){this.options=c.buttons[a];this.name=a;this.ne=b;this.elm=d;this.margin=(new bkElement("DIV")).setStyle({"float":"left",marginTop:"2px"}).appendTo(d);this.contain=(new bkElement("DIV")).setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin);this.border=(new bkElement("DIV")).setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain);this.button=(new bkElement("DIV")).setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(a,c)).appendTo(this.border);this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect();if(!window.opera)this.button.onmousedown=this.button.onclick=bkLib.cancelEvent;b.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this));this.disable();this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){if(this.isDisabled)this.setBg();else if(this.isHover)this.setBg("hover");else if(this.isActive)this.setBg("active");else this.setBg()},setBg:function(a){switch(a){case"hover":var b={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var b={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var b={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(b).addClass("button-"+a)},checkNodes:function(b){var a=b;do if(this.options.tags&&bkLib.inArray(this.options.tags,a.nodeName)){this.activate();return true}while(a=a.parentNode&&a.className!="nicEdit");a=$BK(b);while(a.nodeType==3)a=$BK(a.parentNode);if(this.options.css)for(itm in this.options.css)if(a.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm]){this.activate();return true}this.deactivate();return false},activate:function(){if(!this.isDisabled){this.isActive=1;this.updateState();this.ne.fireEvent("buttonActivate",this)}},deactivate:function(){this.isActive=0;this.updateState();!this.isDisabled&&this.ne.fireEvent("buttonDeactivate",this)},enable:function(b,a){this.isDisabled=0;this.contain.setStyle({opacity:1}).addClass("buttonEnabled");this.updateState();this.checkNodes(a)},disable:function(){this.isDisabled=1;this.contain.setStyle({opacity:.6}).removeClass("buttonEnabled");this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){if(!this.isDisabled){this.isHover=1;this.updateState();this.ne.fireEvent("buttonOver",this)}},hoverOff:function(){this.isHover=0;this.updateState();this.ne.fireEvent("buttonOut",this)},mouseClick:function(){if(this.options.command){this.ne.nicCommand(this.options.command,this.options.commandArgs);!this.options.noActive&&this.toggleActive()}this.ne.fireEvent("buttonClick",this)},key:function(b,a){if(this.options.key&&a.ctrlKey&&String.fromCharCode(a.keyCode||a.charCode).toLowerCase()==this.options.key){this.mouseClick();a.preventDefault&&a.preventDefault()}}}),nicPlugin=bkClass.extend({construct:function(a,b){this.options=b;this.ne=a;this.ne.addEvent("panel",this.loadPanel.closure(this));this.init()},loadPanel:function(a){var b=this.options.buttons;for(var c in b)a.addButton(c,this.options);a.reorder()},init:function(){}}),nicPaneOptions={},nicEditorPane=bkClass.extend({construct:function(b,c,d,a){this.ne=c;this.elm=b;this.pos=b.pos();this.contain=(new bkElement("div")).setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"});this.pane=(new bkElement("div")).setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(d).appendTo(this.contain);if(a&&!a.options.noClose)this.close=(new bkElement("div")).setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",a.removePane.closure(this)).appendTo(this.pane);this.contain.noSelect().appendTo(document.body);this.position();this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var a=this.ne.nicPanel.elm,c=a.pos(),b=c[0]+parseInt(a.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);b<this.pos[0]&&this.contain.setStyle({left:b+"px"})}},toggle:function(){this.isVisible=!this.isVisible;this.contain.setStyle({display:this.isVisible?"block":"none"})},remove:function(){if(this.contain){this.contain.remove();this.contain=null}},append:function(a){a.appendTo(this.pane)},setContent:function(a){this.pane.setContent(a)}}),nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this))},mouseClick:function(){if(!this.isDisabled)if(this.pane&&this.pane.pane)this.removePane();else{this.pane=new nicEditorPane(this.contain,this.ne,{width:this.width||"270px",backgroundColor:"#fff"},this);this.addPane();this.ne.selectedInstance.saveRng()}},addForm:function(d,f){this.form=(new bkElement("form")).addEvent("submit",this.submit.closureListener(this));this.pane.append(this.form);this.inputs={};for(itm in d){var a=d[itm],b="";if(f)b=f.getAttribute(itm);if(!b)b=a.value||"";var e=d[itm].type;if(e=="title")(new bkElement("div")).setContent(a.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0"}).appendTo(this.form);else{var c=(new bkElement("div")).setStyle({overflow:"hidden",clear:"both"}).appendTo(this.form);a.txt&&(new bkElement("label")).setAttributes({"for":itm}).setContent(a.txt).setStyle({margin:"2px 4px",fontSize:"13px",width:"50px",lineHeight:"20px",textAlign:"right","float":"left"}).appendTo(c);switch(e){case"text":this.inputs[itm]=(new bkElement("input")).setAttributes({id:itm,value:b,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",height:"20px",border:"1px solid #ccc",overflow:"hidden"}).setStyle(a.style).appendTo(c);break;case"select":this.inputs[itm]=(new bkElement("select")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(c);for(opt in a.options)var g=(new bkElement("option")).setAttributes({value:opt,selected:opt==b?"selected":""}).setContent(a.options[opt]).appendTo(this.inputs[itm]);break;case"content":this.inputs[itm]=(new bkElement("textarea")).setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(a.style).appendTo(c);this.inputs[itm].value=b}}}(new bkElement("input")).setAttributes({type:"submit"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"3px 0","float":"left",clear:"both"}).appendTo(this.form);this.form.onsubmit=bkLib.cancelEvent},submit:function(){},findElm:function(d,c,e){for(var b=this.ne.selectedInstance.getElm().getElementsByTagName(d),a=0;a<b.length;a++)if(b[a].getAttribute(c)==e)return $BK(b[a])},removePane:function(){if(this.pane){this.pane.remove();this.pane=null;this.ne.selectedInstance.restoreRng()}}}),nicButtonTips=bkClass.extend({construct:function(a){this.ne=a;a.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(a){this.timer=setTimeout(this.create.closure(this,a),400)},create:function(a){this.timer=null;if(!this.pane){this.pane=new nicEditorPane(a.button,this.ne,{fontSize:"12px",marginTop:"5px"});this.pane.setContent(a.options.name)}},hide:function(){this.timer&&clearTimeout(this.timer);if(this.pane)this.pane=this.pane.remove()}});nicEditors.registerPlugin(nicButtonTips);var nicLinkOptions={buttons:{link:{name:"Add Link",type:"nicLinkButton",tags:["A"]},unlink:{name:"Remove Link",command:"unlink",noActive:true}}},nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A");this.addForm({"":{type:"title",txt:"Add/Edit Link"},href:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},title:{type:"text",txt:"Title"},target:{type:"select",txt:"Open In",options:{"":"Current Window",_blank:"New Window"},style:{width:"100px"}}},this.ln)},submit:function(){var b=this.inputs.href.value;if(b=="http://"||b==""){alert("You must enter a URL to Create a Link");return false}this.removePane();if(!this.ln){var a="javascript:nicTemp();";this.ne.nicCommand("createlink",a);this.ln=this.findElm("A","href",a)}this.ln&&this.ln.setAttributes({href:this.inputs.href.value,title:this.inputs.title.value,target:this.inputs.target.options[this.inputs.target.selectedIndex].value})}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);var nicImageOptions={buttons:{image:{name:"Add Image",type:"nicImageButton",tags:["IMG"]}}},nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG");this.addForm({"":{type:"title",txt:"Add/Edit Image"},src:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},alt:{type:"text",txt:"Alt Text",style:{width:"100px"}},align:{type:"select",txt:"Align",options:{none:"Default",left:"Left",right:"Right"}}},this.im)},submit:function(){var a=this.inputs.src.value;if(a==""||a=="http://"){alert("You must enter a Image URL to insert");return false}this.removePane();if(!this.im){var b="javascript:nicImTemp();";this.ne.nicCommand("insertImage",b);this.im=this.findElm("IMG","src",b)}this.im&&this.im.setAttributes({src:this.inputs.src.value,alt:this.inputs.alt.value,align:this.inputs.align.value})}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}},nicEditorSaveButton=nicEditorButton.extend({init:function(){!this.ne.options.onSave&&this.margin.setStyle({display:"none"})},mouseClick:function(){var b=this.ne.options.onSave,a=this.ne.selectedInstance;b(a.getContent(),a.elm.id,a)}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions);var nicXHTML=bkClass.extend({stripAttributes:["_moz_dirty","_moz_resizing","_extended"],noShort:["style","title","script","textarea","a"],cssReplace:{"font-weight:bold;":"strong","font-style:italic;":"em"},sizes:{1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large"},construct:function(a){this.ne=a;this.ne.options.xhtml&&a.addEvent("get",this.cleanup.closure(this))},cleanup:function(a){var c=a.getElm(),b=this.toXHTML(c);a.content=b},toXHTML:function(e,f){var c="",i="",j="",p=e.nodeType,d=e.nodeName.toLowerCase(),o=e.hasChildNodes&&e.hasChildNodes(),g=[];switch(p){case 1:var m=e.attributes;switch(d){case"b":d="strong";break;case"i":d="em";break;case"font":d="span"}if(f){for(var a=0;a<m.length;a++){var l=m[a],h=l.nodeName.toLowerCase(),b=l.nodeValue;if(!l.specified||!b||bkLib.inArray(this.stripAttributes,h)||typeof b=="function")continue;switch(h){case"style":var k=b.replace(/ /g,"");for(itm in this.cssReplace)if(k.indexOf(itm)!=-1){g.push(this.cssReplace[itm]);k=k.replace(itm,"")}j+=k;b="";break;case"class":b=b.replace("Apple-style-span","");break;case"size":j+="font-size:"+this.sizes[b]+";";b=""}if(b)i+=" "+h+'="'+b+'"'}if(j)i+=' style="'+j+'"';for(var a=0;a<g.length;a++)c+="<"+g[a]+">";if(i==""&&d=="span")f=false;if(f){c+="<"+d;if(d!="br")c+=i}}if(!o&&!bkLib.inArray(this.noShort,h)){if(f)c+=" />"}else{if(f)c+=">";for(var a=0;a<e.childNodes.length;a++){var n=this.toXHTML(e.childNodes[a],true,true);if(n)c+=n}}if(f&&o)c+="</"+d+">";for(var a=0;a<g.length;a++)c+="</"+g[a]+">";break;case 3:c+=e.nodeValue}return c}});nicEditors.registerPlugin(nicXHTML);var nicCodeOptions={buttons:{xhtml:{name:"Edit HTML",type:"nicCodeButton"}}},nicCodeButton=nicEditorAdvancedButton.extend({width:"350px",addPane:function(){this.addForm({"":{type:"title",txt:"Edit HTML"},code:{type:"content",value:this.ne.selectedInstance.getContent(),style:{width:"340px",height:"200px"}}})},submit:function(){var a=this.inputs.code.value;this.ne.selectedInstance.setContent(a);this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicCodeOptions);var nicEr=function(){var d=0;function a(){var a=function(){return Math.floor(Math.random()*20+1)},b=a(),c=a();$("#pstN1").html(b);$("#pstN2").html(c);$("#pstSum").val("");d=b+c}function k(a){var b=/[aeiou]/g;return a.match(b)?a.match(b).length:0}function e(a){var i=a.indexOf("}")==-1&&a.indexOf("&gt;")==-1;a=a.replace(/<[^>]+>/g," ").replace(/<[\s\S]+?>/g," ").replace(/(&nbsp;|\W)+/g," ").replace(/\s+/," ").replace(/^\s+|\s+$/,"");var b="",d=1;if(a.length<25){b="Failed to send. Content is too short.";d=0}else{var e=a.length;if(e>8e3){b="Failed to send. Content is too long. Limit: 8000. Current length: "+e+" characters.";d=0}else{var f=a.replace(/[\s\d]/g,"").toLowerCase(),c=f.length,j=(c+20)/c*6,h=c/(e-c);if(h>j)b="__m";else if(i){var g=k(f)/c;if(g<.28||g>.48)b="__m"}}}return[b,d]}var c=false;function i(a){if(!c){(new nicEditor({buttonList:["bold","strikethrough","link","unlink","indent","outdent","ol","ul","image","removeformat","xhtml"]})).panelInstance(a);c=true}}function j(j){var b=$("#lblPostAlert");b.html("");if(j){var k=$("#postTitle").val().replace(/[^\w\s\?\-]/g,"").replace(/^\s+|\s+$|</g,"").replace(/\s+/g," ").replace(/\?+/g,"?").replace(/\-+/g,"-"),c=k.length;if(c<15){b.html("Title is too short. Min 15. Now "+c);return 0}if(c>100){b.html("Title is too long. Max 100. Now "+c);return 0}}else{var l=$("#ansrPwd").val().replace(/^\s+|\s+$|</g,"");if(l.length>20){b.html("Password cannot be longer than 20 characters.");return 0}}var i=$("#postName").val().replace(/^\W+|\W+$/g,""),c=i.length;if(c<2){b.html("Name is too short");return 0}if(c>15){b.html("Name is too long. Max 15. Now "+c);return 0}if(d!=$("#pstSum").val()){b.html("Validation failed.");return 0}var h=nicEditors.findEditor("postArea1"),f=e(h.getContent());if(!f[1]){b.html(f[0]);return false}else if(f[0]=="__m")var g=f[0];else g=escape(h.getContent().replace(/\+/g,"@j@"));b.html('<img src="/Content/img/loading.gif" />');if(j)$.post("/post/CreateNewQuestion",{CategoryId:$("#hdnPostCid").val(),Title:k,CreatedBy:i,Body:g},function(d){var c=$.parseJSON(d);c.m==1&&h.setContent("<p><br/></p>");$("#postTitle").val("");$("#postName").val("");a();b.html(c.r).fadeIn("slow").delay(15000).fadeOut()},"text").fail(function(){a();b.html("Failed the post(Ajax error).")});else $.post("/post/CreateNewAnswer",{Pqid:$("#pqid").val(),Paid:$("#paid").val(),CreatedBy:i,ModifyPassword:escape(l),Body:g},function(d){var c=$.parseJSON(d);if(c.m==1)window.location.reload(true);else{a();b.html(c.r).fadeIn("slow").delay(15000).fadeOut()}},"text").fail(function(){a();b.html("Failed the post(Ajax error).")})}function f(c){var a=$("#qaPost");a.show();if(c)a.insertAfter(b($(c.parentNode.parentNode.parentNode)));else a.appendTo("#nicHome");$("html, body").animate({scrollTop:a.offset().top-300},"slow")}function b(a){return a.next().hasClass("post1")?b(a.next()):a}function g(){$("#qaPost").hide()}function h(d,c,b,a){$.post("/post/SetIsAnswer",{qid:d,aid:c,isAnswer:b},function(c){var d=$.parseJSON(c);if(d.result=="Y"){$(a).parent().parent()[b?"addClass":"removeClass"]("answer");$(a).hide()}else alert("failed")},"text")}return{popEditor:i,setCaptcha:a,post:j,smck:e,openNicAnswer:f,cancelAnswer:g,setIsAnswer:h}}();function fnSelect(d){var b=document.getElementById(d),c=b.getElementsByTagName("pre");if(c&&c.length>0)b=c[0];fnDeSelect();if(window.getSelection){window.getSelection().removeAllRanges();var a=document.createRange();a.selectNodeContents(b);window.getSelection().addRange(a)}else if(document.selection){var a=document.body.createTextRange();a.moveToElementText(b);a.select()}}function fnDeSelect(){if(window.getSelection)window.getSelection().removeAllRanges();else document.selection&&document.selection.empty()}var $9$=function(){if($){var c=$(window),a=$("#backTop");a.hide();a.click(function(){$("body,html").animate({scrollTop:0},200);return false});var d=document.getElementById("header"),b,e=0;c.resize(function(){if($(this).scrollTop()>200&&c.width()>1300)a.fadeIn(900);else a.fadeOut(900)});c.scroll(function(){if($(this).scrollTop()>200&&c.width()>900)a.fadeIn(900);else a.fadeOut(900);if(d){b=c.scrollTop();if(b>30&&b<e)d.className="fixed";else{d.className="";if(b<60)d.className="top0"}e=b}});if($("#qaPost").length){nicEr.popEditor("postArea1");nicEr.setCaptcha();$("#nicHome").length&&$("#qaPost").hide()}}else setTimeout($9$,0)};$9$();var $toggle=function(f,e,c,d){var b=$(e);if(c){var a=$(f);if(a[0].nodeName=="A")a.html(b.is(":visible")?c:d);else a.val(b.is(":visible")?c:d)}b.toggle(200)}

var amenuOptions =
{
    menuId: "acdnmenu",
    linkIdToMenuHtml: null,
    expand: "single",
    license: "2a8e9"
};

var amenu = new McAcdnMenu(amenuOptions);

/* Accordion Menu v2013.3.18. Copyright www.menucool.com */
function McAcdnMenu(s){var k=function(a,b){return a.getElementsByTagName(b)},h="className",N=0,v="firstChild",j=function(b,c){var a=c==0?b.nextSibling:b[v];while(a&&a.nodeType!=1)a=a.nextSibling;return a},a="length",u="attachEvent",y="addEventListener",n=function(e){var b=e.childNodes,d=[];if(b)for(var c=0,f=b[a];c<f;c++)b[c].nodeType==1&&d.push(b[c]);return d},o="nodeName",cb=function(c){var b=[],d=c[a];while(d--)b.push(String.fromCharCode(c[d]));return b.join("")},b="parentNode",d="style",X=function(b,d){var c=b[a];while(c--)if(b[c]===d)return true;return false},c="offsetHeight",r="insertBefore",l=function(b,a){return X(b[h].split(" "),a)},D="setAttribute",p=function(a,b,c){if(!l(a,b))if(a[h]=="")a[h]=b;else if(c)a[h]=b+" "+a[h];else a[h]+=" "+b},i="replace",f="height",U=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");a[h]=a[h][i](c,"$1");a[h]=a[h][i](/ $/,"")},t=null,m,e,M=document,q="createElement",A="getElementById",bb=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],z,H,ab=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],O=function(a){return a[i](/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},x=function(e,b,f){var d=[];if(f&&((new Date).getTime()-500>H||N))return 1;for(var c=0;c<e[a];c++)d[d[a]]=String.fromCharCode(e.charCodeAt(c)-(b&&b>7?b:3));return d.join("")},R=function(f,d){var e=function(b){for(var d=b.substr(0,b[a]-1),f=b.substr(b[a]-1,1),e="",c=0;c<d[a];c++)e+=d.charCodeAt(c)-f;return unescape(e)},b=O(document.domain)+Math.random(),c=e(b);z="";if(c[a]==39)try{b=(new Function("$","_",x(z))).apply(this,[c,d]);z=b}catch(g){}},g=function(a,b){return b?M[a](b):M[a]},Q=function(){m={a:s.license||"5432",b:s.menuId,c:s.linkIdToMenuHtml,e:s.expand,g:s.linkIdToMenuHtml}},S=function(n){for(var f=-1,h=-1,j=g("location").href.toLowerCase()[i]("www.","")[i](/([\-\[\].$()*+?])/g,"\\$1")+"$",l=new RegExp(j,"i"),d,e=k(n,x("d",0,true)),c=0;c<e[a];c++)if(e[c].href){d=e[c].href[i]("www.","").match(l);if(d&&d[0][a]>=h){f=c;h=d[0][a]}}if(f==-1){j=g("location").href.toLowerCase()[i]("www.","")[i](/([\-\[\].$()*+])/g,"\\$1")[i](/([?&#])([^?&#]+)/g,"($1$2)?")[i](/\(\?/g,"(\\?");l=new RegExp(j,"i");for(c=0;c<e[a];c++)if(e[c].href){d=e[c].href[i]("www.","").match(l);if(d&&d[0][a]>h){f=c;h=d[0][a]}}}if(f!=-1){t=e[f];(new Function("a","b","c","d","e","f","g","h","i","j","k",function(d){for(var b=[],c=0,e=d[a];c<e;c++)b[b[a]]=String.fromCharCode(d.charCodeAt(c)-4);return b.join("")}(""))).apply(this,[m,b,x,ab,O,Y,g,bb,n[b],p,t])}};function K(i){var m=k(i,"ul");if(m[a]){var f=i.childNodes,s=m[0];p(s,"sub");var c=g(q,"div");c[h]="heading";for(var b=f[a]-1;b>-1;b--)if(f[b][o]!="UL"){if(f[b][o]=="A"){var l=j(f[b],0);l&&l[D]("c","2")}c[r](f[b],c[v])}var t=g(q,"div");t[h]="arrowImage";c[r](t,c[v]);for(var u=n(s),b=0;b<u[a];b++)K(u[b],"sub");i[r](c,i[v])}else{var e=n(i);if(e&&e[a]==1&&e[0][o]=="A"){p(e[0],"link",1);e[0][d].display="block"}}}var Y=function(d,b){var c=function(c){var b=c.charCodeAt(0).toString();return b.substring(b[a]-1)};return d+c(b[parseInt(x("5"))])+b[1]+c(b[0])};function V(i){p(i,"top",0);var e=n(i),b=e[a];while(b--&&b>0){var c=g(q,"li");c[h]="separator";c[d][f]="0px";c[d].overflow="hidden";i[r](c,e[b])}for(var b=0;b<e[a];b++)K(e[b],"top")}var I=function(a){this.a=null;this.H=null;this.Q=null;this.b=null;this.h(a)},B=function(a){return a[b][b].id==m.b?a:a[b][b]?B(a[b]):null};I.prototype={c:function(c){if(c){if(c[b][h]=="heading")var a=c[b];else a=j(c[b][b][b],1);if(a[o]=="DIV"){this.l(a,1);j(a,0)[D]("c","1");this.c(a)}}},d:function(a){R(a,m.a)},f:function(d,r,i,p){this.l(d,1);var s=this.H&&l(d[b][b],"top")?this.H:this.m(r),f=null;if(i){f=n(d[b][b]);for(var g=0;g<f[a];g++)if(f[g][o]=="LI"){var m=j(f[g],1);m&&m!=d&&this.l(m,0)}}if(p){var q=B(d.parentNode);if(i)for(var k=n(this.b),c,h=0;h<k[a];h++){c=j(k[h],1);c&&l(c,"heading")&&this.l(c,k[h]==q)}else{c=j(q,1);c&&l(c,"heading")&&this.l(c,1)}this.n(d[b][b])}this.a=setInterval(function(){e.k(r,s,true,f,i&&p)},15)},g:function(a,b){this.l(a,0);this.a=setInterval(function(){e.k(b,0,false,null,0)},15)},h:function(c){var b=k(c,"ul");if(b[a])b=b[0];else return;V(b);this.d(b);S(b);this.c(t);this.i(c);this.b=b;b[d].visibility="visible"},i:function(y){var q=j(y,1);if(m.e=="multiple")this.Q=0;else if(m.e=="full")this.Q=2;else this.Q=1;var v=0,u=0;if(this.Q==2){var z=0,g,r=n(q),h;if(y[c]==q[c])u="auto";else u=y[c];for(var i=0;i<r[a];i++){h=k(r[i],"ul")[0];if(!h)continue;if(z<h[c])z=h[c];if(h.getAttribute("c")=="1")g=h;h[d][f]="0"}if(u=="auto")v=q[c]+z;else if(u>q[c])v=u;else v=q[c];y[d][f]=v+"px";this.H=v-q[c];if(this.H<1)this.H=1;for(var i=0;i<r[a];i++){h=k(r[i],"ul")[0];if(!h)continue;if(this.H<this.m(h))h[d].overflowY="auto"}if(g)g[d][f]=this.H+"px";else for(i=0;i<r[a];i++){g=k(r[i],"ul");if(g[a]){g=g[0];g[D]("c","1");g[d][f]=this.H+"px";p(j(g[b],1),"current",0);t=g[b];break}}}else{var w=k(q,"ul"),s=w[a];while(s--)if(w[s].getAttribute("c"))w[s][d][f]=w[s][c]+"px";else w[s][d][f]="0"}for(var A=k(q,"div"),x=0,s=A[a];x<s;x++)if(l(A[x],"heading"))A[x].onclick=function(){clearInterval(e.a);e.a=null;var a=j(this,0);if(!a||a[o]!="UL")return;if(a[c]<1){var d=l(this[b][b],"top");e.f(this,a,e.Q==1||e.Q==2&&d,0)}else e.g(this,a)}},j:function(g,e){var a=g[b][b];if(this.Q==2&&l(a[b][b],"top"))return;if(!l(a,"top")){a[d][f]=a[c]+e+"px";this.j(a,e)}},k:function(j,l,u,o,t){var g=j[c],p=true,b,h;if(o)for(var s=0;s<o[a];s++){b=k(o[s],"ul");if(b[a])b=b[0];if(b&&b!=j)if(b[c]>0){p=false;h=Math.ceil(b[c]/3);if(h>b[c])h=b[c];b[d][f]=b[c]-h+"px";this.j(b,-h)}}if(t)for(var v=B(j.parentNode),q=n(this.b),r,m=0;m<q[a];m++)if(q[m]!=v){r=k(q[m],"ul");if(r[a]){b=r[0];if(b[c]>0){p=false;h=Math.ceil(b[c]/3);if(h>b[c])h=b[c];b[d][f]=b[c]-h+"px";this.j(b,-h)}}}var i;if(u){if(g>=l&&p){j[d][f]=l+"px";clearInterval(e.a);e.a=null;return}i=Math.ceil((l-g)/3);if(g+i>l)i=l-g;j[d][f]=g+i+"px";this.j(j,i)}else{if(g<=0){j[d][f]="0";clearInterval(e.a);e.a=null;return}i=Math.ceil((g-l)/3);if(g-i<0)i=g;j[d][f]=g-i+"px";this.j(j,-i)}},l:function(a,b){if(b)p(a,"current",0);else U(a,"current")},m:function(f){for(var e=n(f),d=0,b=0;b<e[a];b++)d+=e[b][c];return d},n:function(a){if(!l(a,"top")){a[d][f]=this.m(a)+"px";this.n(a[b][b])}}};var P=function(c){var a;if(window.XMLHttpRequest)a=new XMLHttpRequest;else a=new ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){var e=a.responseText,h=/^[\s\S]*<body[^>]*>([\s\S]+)<\/body>[\s\S]*$/i;if(h.test(e))e=e[i](h,"$1");e=e[i](/^\s+|\s+$/g,"");var f=g(q,"div");f[d].padding="0";f[d].margin="0";c[b][r](f,c);f.innerHTML=e;c[d].display="none";G()}};a.open("GET",c.href,true);a.send()},G=function(){var a;if(typeof console!=="undefined"&&typeof console.log==="function"){a=console.log;console.log=function(){a.call(this,++N,arguments)}}var b=g(A,m.b);if(b)e=new I(b);if(a)console.log=a},F=function(){H=(new Date).getTime();if(m.c){var a=g(A,m.c);if(a)P(a);else alert('<a id="'+m.e+'"> not found.')}else G()},W=function(d){var b=false;function a(){if(b)return;b=true;setTimeout(d,4)}if(g("addEventListener"))document[y]("DOMContentLoaded",a,false);else if(g(u)){try{var e=window.frameElement!=null}catch(f){}if(g("documentElement").doScroll&&!e){function c(){if(b)return;try{g("documentElement").doScroll("left");a()}catch(d){setTimeout(c,10)}}c()}document[u]("onreadystatechange",function(){document.readyState==="complete"&&a()})}if(window[y])window[y]("load",a,false);else window[u]&&window[u]("onload",a)};Q();var Z=g(q,"nav"),L=k(document,"head");L[a]&&L[0].appendChild(Z);W(F);var T=function(l){for(var h=n(e.b),b,g=0;g<h[a];g++){b=k(h[g],"ul");if(b[a]&&b[0][c]>0){var i=j(h[g],1);if(l)e.g(i,b[0]);else b[0][d][f]="0";e.l(i,0);break}}},C=function(a,d){if(e&&e.b&&e.a==null)if(a){var f=j(a,1);if(l(f,"heading"))var c=f;else c=j(f[b][b][b],1);c[o]=="DIV"&&e.f(c,j(c,0),d,1)}else a===0&&T(d);else setTimeout(function(){C(a,d)},50)},w=0,J=function(a){if(e)C(0,a);else if(w<10){w++;setTimeout(function(){J(a)},20)}},E=function(c,b){var a=g(A,c);if(a&&a[o]=="LI")C(a,b);else if(w<10){w++;setTimeout(function(){E(c,b)},20)}};return{init:F,open:function(L_li_id,L_closeOthers){E(L_li_id,L_closeOthers)},close:function(L_slide){J(L_slide)}}}
